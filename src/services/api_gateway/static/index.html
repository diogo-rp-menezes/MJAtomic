<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevAgent Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .status-pending { background-color: #d1d5db; }
        .status-in-progress { background-color: #60a5fa; color: white; }
        .status-completed { background-color: #4ade80; color: white; }
        .status-failed { background-color: #f87171; color: white; }
    </style>
</head>
<body class="bg-gray-100">
    <div id="app" class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">DevAgent Dashboard</h1>

        <!-- Create Plan Section -->
        <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-xl font-semibold mb-2">Create New Plan</h2>
            <div class="flex items-center">
                <input v-model="newProjectName" type="text" placeholder="Enter Project Name" class="border p-2 rounded-l-md flex-grow">
                <button @click="createPlan" class="bg-blue-500 text-white p-2 rounded-r-md">Create</button>
            </div>
        </div>

        <!-- Current Plans -->
        <div>
            <h2 class="text-2xl font-bold mb-3">Active Plans</h2>
            <div v-if="plans.length === 0" class="text-gray-500">No active plans.</div>
            <div v-for="plan in plans" :key="plan.id" class="bg-white p-4 rounded-lg shadow-md mb-4">
                <h3 class="text-lg font-semibold">{{ plan.projectName }}</h3>
                <div class="mt-2">
                    <div v-for="step in plan.steps" :key="step.id" class="p-2 rounded-md mb-1" :class="'status-' + step.status.toLowerCase().replace('_', '-')">
                        {{ step.description }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                newProjectName: '',
                plans: [
                    // Dummy data
                    {
                        id: 1,
                        projectName: 'E-commerce API',
                        steps: [
                            { id: 1, description: 'Setup database schema', status: 'COMPLETED' },
                            { id: 2, description: 'Test product endpoint', status: 'IN_PROGRESS' },
                            { id: 3, description: 'Implement product endpoint', status: 'PENDING' }
                        ]
                    }
                ]
            },
            methods: {
                createPlan() {
                    if (!this.newProjectName) return;
                    // Mock API call
                    console.log('Creating plan for:', this.newProjectName);
                    this.plans.push({
                        id: this.plans.length + 1,
                        projectName: this.newProjectName,
                        steps: [{ id: 1, description: 'Initial planning', status: 'PENDING' }]
                    });
                    this.newProjectName = '';
                }
            }
        });
    </script>
</body>
</html>
